!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=51)}([function(e,t){e.exports=require("stream")},,function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e.match(/([^\/]*)\/*$/)[0]}r.d(t,"a",(function(){return n}))},,,,,,,,,,,,function(e,t){e.exports=require("events")},function(e,t,r){"use strict";e.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:"win32"===process.platform?process.env.USERNAME:process.env.USER,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=r(30),s=n.getTypeParser(20,"text"),i=n.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",(function(e){n.setTypeParser(20,"text",e?n.getTypeParser(23,"text"):s),n.setTypeParser(1016,"text",e?n.getTypeParser(1007,"text"):i)}))},function(e,t,r){var n=r(53),s=r(58),i=r(37),o=r(60);t.getTypeParser=function(e,t){if(!a[t=t||"text"])return u;return a[t][e]||u},t.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text");a[t][e]=r},t.arrayParser=i,t.builtins=o;var a={text:{},binary:{}};function u(e){return String(e)}n.init((function(e,t){a.text[e]=t})),s.init((function(e,t){a.binary[e]=t}))},function(e,t,r){"use strict";const n=r(35),s=r(29);var i=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?s.parseInputDatesAsUTC?function(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=o(t,4)+"-"+o(e.getUTCMonth()+1,2)+"-"+o(e.getUTCDate(),2)+"T"+o(e.getUTCHours(),2)+":"+o(e.getUTCMinutes(),2)+":"+o(e.getUTCSeconds(),2)+"."+o(e.getUTCMilliseconds(),3);n+="+00:00",r&&(n+=" BC");return n}(e):function(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var s=o(r,4)+"-"+o(e.getMonth()+1,2)+"-"+o(e.getDate(),2)+"T"+o(e.getHours(),2)+":"+o(e.getMinutes(),2)+":"+o(e.getSeconds(),2)+"."+o(e.getMilliseconds(),3);t<0?(s+="-",t*=-1):s+="+";s+=o(Math.floor(t/60),2)+":"+o(t%60,2),n&&(s+=" BC");return s}(e):Array.isArray(e)?function e(t){for(var r="{",n=0;n<t.length;n++)n>0&&(r+=","),null===t[n]||void 0===t[n]?r+="NULL":Array.isArray(t[n])?r+=e(t[n]):t[n]instanceof Buffer?r+="\\\\x"+t[n].toString("hex"):r+='"'+i(t[n]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';return r+="}"}(e):null==e?null:"object"==typeof e?function(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),i(e.toPostgres(i),t)}return JSON.stringify(e)}(e,t):e.toString()};function o(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}const a=function(e){return n.createHash("md5").update(e,"utf-8").digest("hex")};e.exports={prepareValue:function(e){return i(e)},normalizeQueryConfig:function(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e},postgresMd5PasswordHash:function(e,t,r){var n=a(t+e);return"md5"+a(Buffer.concat([Buffer.from(n),r]))},md5:a}},function(e,t,r){"use strict";const n=r(2),s=new Map;e.exports=(e,t)=>{let r=s.get(t);void 0===r&&(r=n.deprecate(()=>{},e),s.set(t,r)),r()}},function(e,t){e.exports=require("assert")},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(2),Client=__webpack_require__(52),defaults=__webpack_require__(29),Connection=__webpack_require__(42),Pool=__webpack_require__(77);const checkConstructor=__webpack_require__(41),poolFactory=Client=>{var BoundPool=function(options){checkConstructor("pg.Pool","PG-POOL-NEW",()=>eval("new.target"));var config=Object.assign({Client:Client},options);return new Pool(config)};return util.inherits(BoundPool,Pool),BoundPool};var PG=function(e){this.defaults=defaults,this.Client=e,this.Query=this.Client.Query,this.Pool=poolFactory(this.Client),this._pools=[],this.Connection=Connection,this.types=__webpack_require__(30)};void 0!==process.env.NODE_PG_FORCE_NATIVE?module.exports=new PG(__webpack_require__(46)):(module.exports=new PG(Client),module.exports.__defineGetter__("native",(function(){delete module.exports.native;var e=null;try{e=new PG(__webpack_require__(46))}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e;console.error(e.message)}return module.exports.native=e,e})))},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";t.parse=function(e,t){return new n(e,t).parse()};class n{constructor(e,t){this.source=e,this.transform=t||s,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof();){if("="===this.nextCharacter().value)break}}parse(e){var t,r,s;for(this.consumeDimensions();!this.isEof();)if("{"!==(t=this.nextCharacter()).value||s){if("}"!==t.value||s)'"'!==t.value||t.escaped?","!==t.value||s?this.record(t.value):this.newEntry():(s&&this.newEntry(!0),s=!s);else if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else this.dimension++,this.dimension>1&&(r=new n(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);if(0!==this.dimension)throw new Error("array dimension not balanced");return this.entries}}function s(e){return e}},function(e,t,r){var n=r(36);e.exports={create:function(e,t){return{parse:function(){return n.parse(e,t)}}}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var n=r(30);function s(e){this._types=e||n,this.text={},this.binary={}}s.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},s.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},s.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},e.exports=s},function(e,t,r){"use strict";var n=r(68),s=r(29),i=r(69).parse,o=function(e,t,r){return void 0===r?r=process.env["PG"+e.toUpperCase()]:!1===r||(r=process.env[r]),t[e]||r||s[e]},a=function(e){(e="string"==typeof e?i(e):e||{}).connectionString&&(e=Object.assign({},e,i(e.connectionString))),this.user=o("user",e),this.database=o("database",e),this.port=parseInt(o("port",e),10),this.host=o("host",e),this.password=o("password",e),this.binary=o("binary",e),this.ssl=void 0===e.ssl?function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0}return s.ssl}():e.ssl,this.client_encoding=o("client_encoding",e),this.replication=o("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=o("application_name",e,"PGAPPNAME"),this.fallback_application_name=o("fallback_application_name",e,!1),this.statement_timeout=o("statement_timeout",e,!1),this.idle_in_transaction_session_timeout=o("idle_in_transaction_session_timeout",e,!1),this.query_timeout=o("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))},u=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},c=function(e,t,r){var n=t[r];null!=n&&e.push(r+"="+u(n))};a.prototype.getLibpqConnectionString=function(e){var t=[];c(t,this,"user"),c(t,this,"password"),c(t,this,"port"),c(t,this,"application_name"),c(t,this,"fallback_application_name"),c(t,this,"connect_timeout");var r="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(t,r,"sslmode"),c(t,r,"sslca"),c(t,r,"sslkey"),c(t,r,"sslcert"),c(t,r,"sslrootcert"),this.database&&t.push("dbname="+u(this.database)),this.replication&&t.push("replication="+u(this.replication)),this.host&&t.push("host="+u(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+u(this.client_encoding)),n.lookup(this.host,(function(r,n){return r?e(r,null):(t.push("hostaddr="+u(n)),e(null,t.join(" ")))}))},e.exports=a},function(module,exports,__webpack_require__){"use strict";const warnDeprecation=__webpack_require__(32);let hasNewTarget;try{eval("(function () { new.target })"),hasNewTarget=!0}catch(e){hasNewTarget=!1}const checkConstructor=(e,t,r)=>{hasNewTarget&&void 0===r()&&warnDeprecation(`Constructing a ${e} without new is deprecated and will stop working in pg 8.`,t)};module.exports=checkConstructor},function(e,t,r){"use strict";var n=r(43),s=r(28).EventEmitter,i=r(2),o=r(44),a=r(72),u=r(32),c=function(e){s.call(this),e=e||{},this.stream=e.stream||new n.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.lastOffset=0,this.buffer=null,this.offset=null,this.encoding=e.encoding||"utf8",this.parsedStatements={},this.writer=new o,this.ssl=e.ssl||!1,this._ending=!1,this._mode=0,this._emitMessage=!1,this._reader=new a({headerSize:1,lengthPadding:-4});var t=this;this.on("newListener",(function(e){"message"===e&&(t._emitMessage=!0)}))};i.inherits(c,s),c.prototype.connect=function(e,t){var s=this;"closed"===this.stream.readyState?this.stream.connect(e,t):"open"===this.stream.readyState&&this.emit("connect"),this.stream.on("connect",(function(){s._keepAlive&&s.stream.setKeepAlive(!0,s._keepAliveInitialDelayMillis),s.emit("connect")}));const i=function(e){(!s._ending||"ECONNRESET"!==e.code&&"EPIPE"!==e.code)&&s.emit("error",e)};if(this.stream.on("error",i),this.stream.on("close",(function(){s.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(e){switch(e.toString("utf8")){case"S":break;case"N":return s.stream.end(),s.emit("error",new Error("The server does not support SSL connections"));default:return s.stream.end(),s.emit("error",new Error("There was an error establishing an SSL connection"))}var o=r(45);const a={socket:s.stream,checkServerIdentity:s.ssl.checkServerIdentity||o.checkServerIdentity,rejectUnauthorized:s.ssl.rejectUnauthorized,ca:s.ssl.ca,pfx:s.ssl.pfx,key:s.ssl.key,passphrase:s.ssl.passphrase,cert:s.ssl.cert,secureOptions:s.ssl.secureOptions,NPNProtocols:s.ssl.NPNProtocols};"boolean"!=typeof s.ssl.rejectUnauthorized&&u("Implicit disabling of certificate verification is deprecated and will be removed in pg 8. Specify `rejectUnauthorized: true` to require a valid CA or `rejectUnauthorized: false` to explicitly opt out of MITM protection.","PG-SSL-VERIFY"),0===n.isIP(t)&&(a.servername=t),s.stream=o.connect(a),s.stream.on("error",i),s.attachListeners(s.stream),s.emit("sslconnect")}))},c.prototype.attachListeners=function(e){var t=this;e.on("data",(function(e){t._reader.addChunk(e);for(var r=t._reader.read();r;){var n=t.parseMessage(r),s="error"===n.name?"errorMessage":n.name;t._emitMessage&&t.emit("message",n),t.emit(s,n),r=t._reader.read()}})),e.on("end",(function(){t.emit("end")}))},c.prototype.requestSsl=function(){var e=this.writer.addInt16(1234).addInt16(5679).flush(),t=e.length+4,r=(new o).addInt32(t).add(e).join();this.stream.write(r)},c.prototype.startup=function(e){var t=this.writer.addInt16(3).addInt16(0);Object.keys(e).forEach((function(r){var n=e[r];t.addCString(r).addCString(n)})),t.addCString("client_encoding").addCString("'utf-8'");var r=t.addCString("").flush(),n=r.length+4,s=(new o).addInt32(n).add(r).join();this.stream.write(s)},c.prototype.cancel=function(e,t){var r=this.writer.addInt16(1234).addInt16(5678).addInt32(e).addInt32(t).flush(),n=r.length+4,s=(new o).addInt32(n).add(r).join();this.stream.write(s)},c.prototype.password=function(e){this._send(112,this.writer.addCString(e))},c.prototype.sendSASLInitialResponseMessage=function(e,t){this.writer.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),this._send(112)},c.prototype.sendSCRAMClientFinalMessage=function(e){this.writer.addString(e),this._send(112)},c.prototype._send=function(e,t){return!!this.stream.writable&&(!0!==t?this.stream.write(this.writer.flush(e)):void this.writer.addHeader(e))},c.prototype.query=function(e){this.stream.write(this.writer.addCString(e).flush(81))},c.prototype.parse=function(e,t){e.name=e.name||"",e.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e.name,e.name.length),console.error("This can cause conflicts and silent errors executing queries")),e.types=e.types||[];for(var r=e.types.length,n=this.writer.addCString(e.name).addCString(e.text).addInt16(r),s=0;s<r;s++)n.addInt32(e.types[s]);this._send(80,t)},c.prototype.bind=function(e,t){(e=e||{}).portal=e.portal||"",e.statement=e.statement||"",e.binary=e.binary||!1;for(var r=e.values||[],n=r.length,s=!1,i=0;i<n;i++)s|=r[i]instanceof Buffer;var o=this.writer.addCString(e.portal).addCString(e.statement);if(s)for(o.addInt16(n),i=0;i<n;i++)o.addInt16(r[i]instanceof Buffer);else o.addInt16(0);o.addInt16(n);for(var a=0;a<n;a++){var u=r[a];null==u?o.addInt32(-1):u instanceof Buffer?(o.addInt32(u.length),o.add(u)):(o.addInt32(Buffer.byteLength(u)),o.addString(u))}e.binary?(o.addInt16(1),o.addInt16(1)):o.addInt16(0),this._send(66,t)},c.prototype.execute=function(e,t){(e=e||{}).portal=e.portal||"",e.rows=e.rows||"",this.writer.addCString(e.portal).addInt32(e.rows),this._send(69,t)};var h=Buffer.alloc(0);c.prototype.flush=function(){this.writer.add(h),this._send(72)},c.prototype.sync=function(){this.writer.flush(0),this.writer.add(h),this._ending=!0,this._send(83)};const l=Buffer.from([88,0,0,0,4]);c.prototype.end=function(){if(this.writer.add(h),this._ending=!0,this.stream.writable)return this.stream.write(l,()=>{this.stream.end()});this.stream.end()},c.prototype.close=function(e,t){this.writer.addCString(e.type+(e.name||"")),this._send(67,t)},c.prototype.describe=function(e,t){this.writer.addCString(e.type+(e.name||"")),this._send(68,t)},c.prototype.sendCopyFromChunk=function(e){this.stream.write(this.writer.add(e).flush(100))},c.prototype.endCopyFrom=function(){this.stream.write(this.writer.add(h).flush(99))},c.prototype.sendCopyFail=function(e){this.writer.addCString(e),this._send(102)};var p=function(e,t){this.name=e,this.length=t};c.prototype.parseMessage=function(e){this.offset=0;var t=e.length+4;switch(this._reader.header){case 82:return this.parseR(e,t);case 83:return this.parseS(e,t);case 75:return this.parseK(e,t);case 67:return this.parseC(e,t);case 90:return this.parseZ(e,t);case 84:return this.parseT(e,t);case 68:return this.parseD(e,t);case 69:return this.parseE(e,t);case 78:return this.parseN(e,t);case 49:return new p("parseComplete",t);case 50:return new p("bindComplete",t);case 51:return new p("closeComplete",t);case 65:return this.parseA(e,t);case 110:return new p("noData",t);case 73:return new p("emptyQuery",t);case 115:return new p("portalSuspended",t);case 71:return this.parseG(e,t);case 72:return this.parseH(e,t);case 87:return new p("replicationStart",t);case 99:return new p("copyDone",t);case 100:return this.parsed(e,t)}},c.prototype.parseR=function(e,t){var r=this.parseInt32(e),n=new p("authenticationOk",t);switch(r){case 0:return n;case 3:if(8===n.length)return n.name="authenticationCleartextPassword",n;break;case 5:if(12===n.length)return n.name="authenticationMD5Password",n.salt=Buffer.alloc(4),e.copy(n.salt,0,this.offset,this.offset+4),this.offset+=4,n;break;case 10:n.name="authenticationSASL",n.mechanisms=[];do{var s=this.parseCString(e);s&&n.mechanisms.push(s)}while(s);return n;case 11:return n.name="authenticationSASLContinue",n.data=this.readString(e,t-4),n;case 12:return n.name="authenticationSASLFinal",n.data=this.readString(e,t-4),n}throw new Error("Unknown authenticationOk message type"+i.inspect(n))},c.prototype.parseS=function(e,t){var r=new p("parameterStatus",t);return r.parameterName=this.parseCString(e),r.parameterValue=this.parseCString(e),r},c.prototype.parseK=function(e,t){var r=new p("backendKeyData",t);return r.processID=this.parseInt32(e),r.secretKey=this.parseInt32(e),r},c.prototype.parseC=function(e,t){var r=new p("commandComplete",t);return r.text=this.parseCString(e),r},c.prototype.parseZ=function(e,t){var r=new p("readyForQuery",t);return r.name="readyForQuery",r.status=this.readString(e,1),r};c.prototype.parseT=function(e,t){var r=new p("rowDescription",t);r.fieldCount=this.parseInt16(e);for(var n=[],s=0;s<r.fieldCount;s++)n.push(this.parseField(e));return r.fields=n,r};var f=function(){this.name=null,this.tableID=null,this.columnID=null,this.dataTypeID=null,this.dataTypeSize=null,this.dataTypeModifier=null,this.format=null};c.prototype.parseField=function(e){var t=new f;return t.name=this.parseCString(e),t.tableID=this.parseInt32(e),t.columnID=this.parseInt16(e),t.dataTypeID=this.parseInt32(e),t.dataTypeSize=this.parseInt16(e),t.dataTypeModifier=this.parseInt32(e),0===this.parseInt16(e)?(this._mode=0,t.format="text"):(this._mode=1,t.format="binary"),t};var d=function(e,t){this.name="dataRow",this.length=e,this.fieldCount=t,this.fields=[]};c.prototype.parseD=function(e,t){for(var r=this.parseInt16(e),n=new d(t,r),s=0;s<r;s++)n.fields.push(this._readValue(e));return n},c.prototype._readValue=function(e){var t=this.parseInt32(e);return-1===t?null:0===this._mode?this.readString(e,t):this.readBytes(e,t)},c.prototype.parseE=function(e,t){for(var r={},n=this.readString(e,1);"\0"!==n;)r[n]=this.parseCString(e),n=this.readString(e,1);var s=new Error(r.M);return s.name="error",s.length=t,s.severity=r.S,s.code=r.C,s.detail=r.D,s.hint=r.H,s.position=r.P,s.internalPosition=r.p,s.internalQuery=r.q,s.where=r.W,s.schema=r.s,s.table=r.t,s.column=r.c,s.dataType=r.d,s.constraint=r.n,s.file=r.F,s.line=r.L,s.routine=r.R,s},c.prototype.parseN=function(e,t){var r=this.parseE(e,t);return r.name="notice",r},c.prototype.parseA=function(e,t){var r=new p("notification",t);return r.processId=this.parseInt32(e),r.channel=this.parseCString(e),r.payload=this.parseCString(e),r},c.prototype.parseG=function(e,t){var r=new p("copyInResponse",t);return this.parseGH(e,r)},c.prototype.parseH=function(e,t){var r=new p("copyOutResponse",t);return this.parseGH(e,r)},c.prototype.parseGH=function(e,t){var r=0!==e[this.offset];this.offset++,t.binary=r;var n=this.parseInt16(e);t.columnTypes=[];for(var s=0;s<n;s++)t.columnTypes.push(this.parseInt16(e));return t},c.prototype.parsed=function(e,t){var r=new p("copyData",t);return r.chunk=this.readBytes(e,r.length-4),r},c.prototype.parseInt32=function(e){var t=e.readInt32BE(this.offset);return this.offset+=4,t},c.prototype.parseInt16=function(e){var t=e.readInt16BE(this.offset);return this.offset+=2,t},c.prototype.readString=function(e,t){return e.toString(this.encoding,this.offset,this.offset+=t)},c.prototype.readBytes=function(e,t){return e.slice(this.offset,this.offset+=t)},c.prototype.parseCString=function(e){var t=this.offset,r=e.indexOf(0,t);return this.offset=r+1,e.toString(this.encoding,t,r)},e.exports=c},function(e,t){e.exports=require("net")},function(e,t){var r=e.exports=function(e){this.size=e||1024,this.buffer=Buffer.alloc(this.size+5),this.offset=5,this.headerPosition=0};r.prototype._ensure=function(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=Buffer.alloc(r),t.copy(this.buffer)}},r.prototype.addInt32=function(e){return this._ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this},r.prototype.addInt16=function(e){return this._ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this};var n=function(e,t,r,n){e.write(t,r,n)};3===Buffer.prototype.write.length&&(n=function(e,t,r,n){e.write(t,r)}),r.prototype.addCString=function(e){if(e){var t=Buffer.byteLength(e);this._ensure(t+1),n(this.buffer,e,this.offset,t),this.offset+=t}else this._ensure(1);return this.buffer[this.offset++]=0,this},r.prototype.addChar=function(e){return this._ensure(1),n(this.buffer,e,this.offset,1),this.offset++,this},r.prototype.addString=function(e){e=e||"";var t=Buffer.byteLength(e);return this._ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this},r.prototype.getByteLength=function(){return this.offset-5},r.prototype.add=function(e){return this._ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this},r.prototype.clear=function(){this.offset=5,this.headerPosition=0,this.lastEnd=0},r.prototype.addHeader=function(e,t){var r=this.offset;this.offset=this.headerPosition,this.buffer[this.offset++]=e,this.addInt32(r-(this.headerPosition+1)),this.headerPosition=r,this.offset=r,t||(this._ensure(5),this.offset+=5)},r.prototype.join=function(e){return e&&this.addHeader(e,!0),this.buffer.slice(e?0:5,this.offset)},r.prototype.flush=function(e){var t=this.join(e);return this.clear(),t}},function(e,t){e.exports=require("tls")},function(e,t,r){"use strict";e.exports=r(78)},,,,,function(e,t,r){"use strict";r.r(t);var n=r(34),s=r(16);exports.handler=async(e,t,r)=>{const i=Object(s.a)(e.path),o=new n.Client({user:"daichuqi",host:"chuqilab.c2ls2eak4iwb.us-west-2.rds.amazonaws.com",database:"mydb",password:"123456789",port:5432});try{await o.connect();const e=await o.query(`SELECT * FROM users WHERE username='${i}';`);return r(null,{statusCode:200,body:JSON.stringify(e.rows[0])})}catch(e){return r(null,{statusCode:400,body:JSON.stringify(e)})}finally{o.end()}}},function(e,t,r){"use strict";var n=r(28).EventEmitter,s=r(2),i=r(31),o=r(61),a=r(62),u=r(39),c=r(40),h=r(70),l=r(29),p=r(42);process.env.PG_FAST_CONNECTION&&(p=r(73));var f=function(e){n.call(this),this.connectionParameters=new c(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,this.password=this.connectionParameters.password,this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||global.Promise,this._types=new u(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new p({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||l.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=t.connectionTimeoutMillis||0};s.inherits(f,n),f.prototype._errorAllQueries=function(e){const t=t=>{process.nextTick(()=>{t.handleError(e,this.connection)})};this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0},f.prototype._connect=function(e){var t,r,n=this,s=this.connection;if(this._connecting||this._connected){const t=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{e(t)})}function u(e){return function(t){"function"==typeof n.password?n._Promise.resolve().then(()=>n.password()).then(r=>{if(void 0!==r){if("string"!=typeof r)return void s.emit("error",new TypeError("Password must be a string"));n.connectionParameters.password=n.password=r}else n.connectionParameters.password=n.password=null;e(t)}).catch(e=>{s.emit("error",e)}):null!==n.password?e(t):a(n.connectionParameters,(function(r){void 0!==r&&(n.connectionParameters.password=n.password=r),e(t)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(t=setTimeout(()=>{s._ending=!0,s.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?s.connect(this.host+"/.s.PGSQL."+this.port):s.connect(this.port,this.host),s.on("connect",(function(){n.ssl?s.requestSsl():s.startup(n.getStartupConf())})),s.on("sslconnect",(function(){s.startup(n.getStartupConf())})),s.on("authenticationCleartextPassword",u((function(){s.password(n.password)}))),s.on("authenticationMD5Password",u((function(e){s.password(i.postgresMd5PasswordHash(n.user,n.password,e.salt))}))),s.on("authenticationSASL",u((function(e){r=o.startSession(e.mechanisms),s.sendSASLInitialResponseMessage(r.mechanism,r.response)}))),s.on("authenticationSASLContinue",(function(e){o.continueSession(r,n.password,e.data),s.sendSCRAMClientFinalMessage(r.response)})),s.on("authenticationSASLFinal",(function(e){o.finalizeSession(r,e.data),r=null})),s.once("backendKeyData",(function(e){n.processID=e.processID,n.secretKey=e.secretKey}));const c=r=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(t),e)return e(r);this.emit("error",r)}},h=e=>{this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)},l=e=>{const t=this.activeQuery;t?(this.activeQuery=null,t.handleError(e,s)):h(e)};s.on("error",c),s.on("errorMessage",c),s.once("readyForQuery",(function(){n._connecting=!1,n._connected=!0,n._attachListeners(s),s.removeListener("error",c),s.removeListener("errorMessage",c),s.on("error",h),s.on("errorMessage",l),clearTimeout(t),e&&(e(null,n),e=null),n.emit("connect")})),s.on("readyForQuery",(function(){var e=n.activeQuery;n.activeQuery=null,n.readyForQuery=!0,e&&e.handleReadyForQuery(s),n._pulseQueryQueue()})),s.once("end",()=>{const r=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(t),this._errorAllQueries(r),this._ending||(this._connecting&&!this._connectionError?e?e(r):h(r):this._connectionError||h(r)),process.nextTick(()=>{this.emit("end")})}),s.on("notice",(function(e){n.emit("notice",e)}))},f.prototype.connect=function(e){if(!e)return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})});this._connect(e)},f.prototype._attachListeners=function(e){const t=this;e.on("rowDescription",(function(e){t.activeQuery.handleRowDescription(e)})),e.on("dataRow",(function(e){t.activeQuery.handleDataRow(e)})),e.on("portalSuspended",(function(r){t.activeQuery.handlePortalSuspended(e)})),e.on("emptyQuery",(function(r){t.activeQuery.handleEmptyQuery(e)})),e.on("commandComplete",(function(r){t.activeQuery.handleCommandComplete(r,e)})),e.on("parseComplete",(function(r){t.activeQuery.name&&(e.parsedStatements[t.activeQuery.name]=t.activeQuery.text)})),e.on("copyInResponse",(function(e){t.activeQuery.handleCopyInResponse(t.connection)})),e.on("copyData",(function(e){t.activeQuery.handleCopyData(e,t.connection)})),e.on("notification",(function(e){t.emit("notification",e)}))},f.prototype.getStartupConf=function(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),t},f.prototype.cancel=function(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",(function(){r.cancel(e.processID,e.secretKey)}))}else-1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)},f.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},f.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)},f.prototype.escapeIdentifier=function(e){return'"'+e.replace(/"/g,'""')+'"'},f.prototype.escapeLiteral=function(e){for(var t=!1,r="'",n=0;n<e.length;n++){var s=e[n];"'"===s?r+=s+s:"\\"===s?(r+=s+s,t=!0):r+=s}return r+="'",!0===t&&(r=" E"+r),r},f.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},f.prototype.query=function(e,t,r){var n,s,i,o,a;if(null==e)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(i=e.query_timeout||this.connectionParameters.query_timeout,s=n=e,"function"==typeof t&&(n.callback=n.callback||t)):(i=this.connectionParameters.query_timeout,(n=new h(e,t,r)).callback||(s=new this._Promise((e,t)=>{n.callback=(r,n)=>r?t(r):e(n)}))),i&&(a=n.callback,o=setTimeout(()=>{var e=new Error("Query read timeout");process.nextTick(()=>{n.handleError(e,this.connection)}),a(e),n.callback=()=>{};var t=this.queryQueue.indexOf(n);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},i),n.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),s):(this.queryQueue.push(n),this._pulseQueryQueue(),s):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),s)},f.prototype.end=function(e){if(this._ending=!0,this.activeQuery?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)},f.Query=h,e.exports=f},function(e,t,r){var n=r(36),s=r(37),i=r(54),o=r(55),a=r(57);function u(e){return function(t){return null===t?t:e(t)}}function c(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function h(e){return e?n.parse(e,c):null}function l(e){return parseInt(e,10)}function p(e){return e?n.parse(e,u(l)):null}function f(e){return e?n.parse(e,u((function(e){return b(e).trim()}))):null}var d=function(e){return e?s.create(e,(function(e){return null!==e&&(e=E(e)),e})).parse():null},m=function(e){return e?s.create(e,(function(e){return null!==e&&(e=parseFloat(e)),e})).parse():null},y=function(e){return e?s.create(e).parse():null},g=function(e){return e?s.create(e,(function(e){return null!==e&&(e=i(e)),e})).parse():null},v=function(e){return e?s.create(e,(function(e){return null!==e&&(e=o(e)),e})).parse():null},_=function(e){return e?n.parse(e,u(a)):null},w=function(e){return parseInt(e,10)},b=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},S=function(e){return e?n.parse(e,u(JSON.parse)):null},E=function(e){return"("!==e[0]?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},C=function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",n=!1,s=2;s<e.length-1;s++)n||(t+=e[s]),")"!==e[s]?n&&","!==e[s]&&(r+=e[s]):n=!0;var i=E(t);return i.radius=parseFloat(r),i};e.exports={init:function(e){e(20,b),e(21,w),e(23,w),e(26,w),e(700,parseFloat),e(701,parseFloat),e(16,c),e(1082,i),e(1114,i),e(1184,i),e(600,E),e(651,y),e(718,C),e(1e3,h),e(1001,_),e(1005,p),e(1007,p),e(1028,p),e(1016,f),e(1017,d),e(1021,m),e(1022,m),e(1231,m),e(1014,y),e(1015,y),e(1008,y),e(1009,y),e(1040,y),e(1041,y),e(1115,g),e(1182,g),e(1185,g),e(1186,o),e(1187,v),e(17,a),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,S),e(3807,S),e(3907,y),e(2951,y),e(791,y),e(1183,y),e(1270,y)}}},function(e,t,r){"use strict";var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,s=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,o=/^-?infinity$/;function a(e){return-(e-1)}function u(e){return e>=0&&e<100}e.exports=function(e){if(o.test(e))return Number(e.replace("i","I"));var t=n.exec(e);if(!t)return function(e){var t=s.exec(e);if(!t)return;var r=parseInt(t[1],10);t[4]&&(r=a(r));var n=parseInt(t[2],10)-1,i=t[3],o=new Date(r,n,i);u(r)&&o.setFullYear(r);return o}(e)||null;var r=!!t[8],c=parseInt(t[1],10);r&&(c=a(c));var h,l=parseInt(t[2],10)-1,p=t[3],f=parseInt(t[4],10),d=parseInt(t[5],10),m=parseInt(t[6],10),y=t[7];y=y?1e3*parseFloat(y):0;var g=function(e){var t=i.exec(e.split(" ")[1]);if(!t)return;var r=t[1];if("Z"===r)return 0;var n="-"===r?-1:1;return(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*n*1e3}(e);return null!=g?(h=new Date(Date.UTC(c,l,p,f,d,m,y)),u(c)&&h.setUTCFullYear(c),h.setTime(h.getTime()-g)):(h=new Date(c,l,p,f,d,m,y),u(c)&&h.setFullYear(c)),h}},function(e,t,r){"use strict";var n=r(56);function s(e){if(!(this instanceof s))return new s(e);n(this,function(e){if(!e)return{};var t=c.exec(e),r="-"===t[8];return Object.keys(h).reduce((function(e,n){var s,i,o=t[h[n]];return o&&(o="milliseconds"===n?(i=(s=o)+"000000".slice(s.length),parseInt(i,10)/1e3):parseInt(o,10))?(r&&~l.indexOf(n)&&(o*=-1),e[n]=o,e):e}),{})}(e))}e.exports=s;var i=["seconds","minutes","hours","days","months","years"];s.prototype.toPostgres=function(){var e=i.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),0===e.length?"0":e.map((function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e}),this).join(" ")};var o={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},a=["years","months","days"],u=["hours","minutes","seconds"];s.prototype.toISOString=s.prototype.toISO=function(){return"P"+a.map(e,this).join("")+"T"+u.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+o[e]}};var c=new RegExp(["([+-]?\\d+)\\s+years?","([+-]?\\d+)\\s+mons?","([+-]?\\d+)\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map((function(e){return"("+e+")?"})).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},l=["hours","minutes","seconds","milliseconds"]},function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)r.call(n,s)&&(e[s]=n[s])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";e.exports=function(e){if(/^\\x/.test(e))return new Buffer(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var n=1;r+n<e.length&&"\\"===e[r+n];)n++;for(var s=0;s<Math.floor(n/2);++s)t+="\\";r+=2*Math.floor(n/2)}return new Buffer(t,"binary")}},function(e,t,r){var n=r(59),s=function(e,t,r,n,s){n=n||!1,s=s||function(e,t,r){return e*Math.pow(2,r)+t};var i=(r=r||0)>>3,o=function(e){return n?255&~e:e},a=255,u=8-r%8;t<u&&(a=255<<8-t&255,u=t),r&&(a>>=r%8);var c=0;r%8+t>=8&&(c=s(0,o(e[i])&a,u));for(var h=t+r>>3,l=i+1;l<h;l++)c=s(c,o(e[l]),8);var p=(t+r)%8;return p>0&&(c=s(c,o(e[h])>>8-p,p)),c},i=function(e,t,r){var n=Math.pow(2,r-1)-1,i=s(e,1),o=s(e,r,1);if(0===o)return 0;var a=1,u=s(e,t,r+1,!1,(function(e,t,r){0===e&&(e=1);for(var n=1;n<=r;n++)a/=2,(t&1<<r-n)>0&&(e+=a);return e}));return o==Math.pow(2,r+1)-1?0===u?0===i?1/0:-1/0:NaN:(0===i?1:-1)*Math.pow(2,o-n)*u},o=function(e){return 1==s(e,1)?-1*(s(e,15,1,!0)+1):s(e,15,1)},a=function(e){return 1==s(e,1)?-1*(s(e,31,1,!0)+1):s(e,31,1)},u=function(e){return i(e,23,8)},c=function(e){return i(e,52,11)},h=function(e){var t=s(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,s(e,16,16)),n=0,i=s(e,16),o=0;o<i;o++)n+=s(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,s(e,16,48));return(0===t?1:-1)*Math.round(n*a)/a},l=function(e,t){var r=s(t,1),n=s(t,63,1),i=new Date((0===r?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+6e4*i.getTimezoneOffset()),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(e){this.usec=e},i.getUTCMicroSeconds=function(){return this.usec},i},p=function(e){for(var t=s(e,32),r=(s(e,32,32),s(e,32,64)),n=96,i=[],o=0;o<t;o++)i[o]=s(e,32,n),n+=32,n+=32;var a=function(t){var r,i=s(e,32,n);return n+=32,4294967295==i?null:23==t||20==t?(r=s(e,8*i,n),n+=8*i,r):25==t?r=e.toString(this.encoding,n>>3,(n+=i<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},u=function(e,t){var r,n=[];if(e.length>1){var s=e.shift();for(r=0;r<s;r++)n[r]=u(e,t);e.unshift(s)}else for(r=0;r<e[0];r++)n[r]=a(t);return n};return u(i,r)},f=function(e){return e.toString("utf8")},d=function(e){return null===e?null:s(e,8)>0};e.exports={init:function(e){e(20,n),e(21,o),e(23,a),e(26,a),e(1700,h),e(700,u),e(701,c),e(16,d),e(1114,l.bind(null,!1)),e(1184,l.bind(null,!0)),e(1e3,p),e(1007,p),e(1016,p),e(1008,p),e(1009,p),e(25,f)}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(0===r),r=1+~r>>>0,n="-");var s,i,o,a,u,c,h="";if(s=t%1e6,t=t/1e6>>>0,o=""+((i=4294967296*s+r)-1e6*(r=i/1e6>>>0)),0===r&&0===t)return n+o+h;for(a="",u=6-o.length,c=0;c<u;c++)a+="0";if(h=a+o+h,s=t%1e6,t=t/1e6>>>0,o=""+((i=4294967296*s+r)-1e6*(r=i/1e6>>>0)),0===r&&0===t)return n+o+h;for(a="",u=6-o.length,c=0;c<u;c++)a+="0";if(h=a+o+h,s=t%1e6,t=t/1e6>>>0,o=""+((i=4294967296*s+r)-1e6*(r=i/1e6>>>0)),0===r&&0===t)return n+o+h;for(a="",u=6-o.length,c=0;c<u;c++)a+="0";return h=a+o+h,n+(o=""+(i=4294967296*(s=t%1e6)+r)%1e6)+h}},function(e,t){e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}},function(e,t,r){"use strict";const n=r(35);function s(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var s=0;s<e.length;s++)r.push(e[s]^t[s]);return Buffer.from(r)}function i(e,t){return n.createHmac("sha256",e).update(t).digest()}e.exports={startSession:function(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const t=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}},continueSession:function(e,t,r){if("SASLInitialResponse"!==e.message)throw new Error("SASL: Last message was not SASLInitialResponse");const o=function(e){var t,r,n;if(String(e).split(",").forEach((function(e){switch(e[0]){case"r":t=e.substr(2);break;case"s":r=e.substr(2);break;case"i":n=parseInt(e.substr(2),10)}})),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}(r);if(!o.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var a=function(e,t,r){for(var n=i(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),o=n,a=0;a<r-1;a++)n=i(e,n),o=s(o,n);return o}(t,Buffer.from(o.salt,"base64"),o.iteration),u=i(a,"Client Key"),c=n.createHash("sha256").update(u).digest(),h="n=*,r="+e.clientNonce,l="r="+o.nonce+",s="+o.salt+",i="+o.iteration,p="c=biws,r="+o.nonce,f=h+","+l+","+p,d=s(u,i(c,f)).toString("base64"),m=i(a,"Server Key"),y=i(m,f);e.message="SASLResponse",e.serverSignature=y.toString("base64"),e.response=p+",p="+d},finalizeSession:function(e,t){if("SASLResponse"!==e.message)throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach((function(e){switch(e[0]){case"v":r=e.substr(2)}})),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},function(e,t,r){"use strict";r(38);var n=r(63),s=r(64);e.exports=function(e,t){var r=s.getFileName();n.stat(r,(function(i,o){if(i||!s.usePgPass(o,r))return t(void 0);var a=n.createReadStream(r);s.getPassword(e,a,t)}))},e.exports.warnTo=s.warnTo},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";var n=r(38),s=r(0).Stream,i=r(65),o=r(2),a="win32"===process.platform,u=process.stderr;var c=["host","port","database","user","password"],h=c.length,l=c[h-1];function p(){var e=u instanceof s&&!0===u.writable;if(e){var t=Array.prototype.slice.call(arguments).concat("\n");u.write(o.format.apply(o,t))}}Object.defineProperty(e.exports,"isWin",{get:function(){return a},set:function(e){a=e}}),e.exports.warnTo=function(e){var t=u;return u=e,t},e.exports.getFileName=function(e){return(e=e||process.env).PGPASSFILE||(a?n.join(e.APPDATA,"postgresql","pgpass.conf"):n.join(e.HOME,".pgpass"))},e.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!a||(t=t||"<unkn>",32768!=(61440&e.mode)?(p('WARNING: password file "%s" is not a plain file',t),!1):!(63&e.mode)||(p('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1)))};var f=e.exports.match=function(e,t){return c.slice(0,-1).reduce((function(r,n,s){return 1==s&&Number(e[n]||5432)===Number(t[n])?r&&!0:r&&("*"===t[n]||t[n]===e[n])}),!0)};e.exports.getPassword=function(e,t,r){var n,s=t.pipe(new i);var o=function(e){t.destroy(),p("WARNING: error on reading file: %s",e),r(void 0)};t.on("error",o),s.on("data",(function(t){var r=d(t);r&&m(r)&&f(e,r)&&(n=r[l],s.end())})).on("end",(function(){t.destroy(),r(n)})).on("error",o)};var d=e.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,s=0,i={},o=function(t,r,n){var s=e.substring(r,n);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(s=s.replace(/\\([:\\])/g,"$1")),i[c[t]]=s},a=0;a<e.length-1;a+=1){if(t=e.charAt(a+1),r=e.charAt(a),n==h-1){o(n,s);break}a>=0&&":"==t&&"\\"!==r&&(o(n,s,a+1),s=a+2,n+=1)}return i=Object.keys(i).length===h?i:null},m=e.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||(e=Number(e),isFinite(e)&&e>0&&e<9007199254740992&&Math.floor(e)===e)},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<c.length;r+=1){if(!(0,t[r])(e[c[r]]||""))return!1}return!0}},function(e,t,r){var n=r(66),s=r(67).StringDecoder;e.exports=function(e,t,r){var i=new s,o="",a=r&&r.maxLength,u=!r||!1!==r.trailing;"function"==typeof e&&(t=e,e=null);e||(e=/\r?\n/);function c(e,r){if(t){try{r=t(r)}catch(t){return e.emit("error",t)}void 0!==r&&e.queue(r)}else e.queue(r)}function h(t,r){var n=((null!=o?o:"")+r).split(e);if(o=n.pop(),a&&o.length>a)return t.emit("error",new Error("maximum buffer reached"));for(var s=0;s<n.length;s++){c(t,n[s])}}return n((function(e){h(this,i.write(e))}),(function(){i.end&&h(this,i.end()),u&&null!=o&&c(this,o),this.queue(null)}))}},function(e,t,r){var n=r(0);function s(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var s=!1,i=!1,o=[],a=!1,u=new n;function c(){for(;o.length&&!u.paused;){var e=o.shift();if(null===e)return u.emit("end");u.emit("data",e)}}function h(){u.writable=!1,t.call(u),!u.readable&&u.autoDestroy&&u.destroy()}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(r&&!1===r.autoDestroy),u.write=function(t){return e.call(this,t),!u.paused},u.queue=u.push=function(e){return a?u:(null===e&&(a=!0),o.push(e),c(),u)},u.on("end",(function(){u.readable=!1,!u.writable&&u.autoDestroy&&process.nextTick((function(){u.destroy()}))})),u.end=function(e){if(!s)return s=!0,arguments.length&&u.write(e),h(),u},u.destroy=function(){if(!i)return i=!0,s=!0,o.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),c(),u.paused||u.emit("drain"),u},u}e.exports=s,s.through=s},function(e,t){e.exports=require("string_decoder")},function(e,t){e.exports=require("dns")},function(e,t,r){"use strict";var n=r(3);e.exports={parse:function(e){var t;if("/"===e.charAt(0))return{host:(t=e.split(" "))[0],database:t[1]};/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)&&(e=encodeURI(e).replace(/\%25(\d\d)/g,"%$1"));var r=n.parse(e,!0);if(t={},r.query.application_name&&(t.application_name=r.query.application_name),r.query.fallback_application_name&&(t.fallback_application_name=r.query.fallback_application_name),t.port=r.port,"socket:"==r.protocol)return t.host=decodeURI(r.pathname),t.database=r.query.db,t.client_encoding=r.query.encoding,t;t.host=r.hostname;var s=r.pathname;s&&"/"===s.charAt(0)&&(s=r.pathname.slice(1)||null),t.database=s&&decodeURI(s);var i=(r.auth||":").split(":");t.user=i[0],t.password=i.splice(1).join(":");var o=r.query.ssl;return"true"!==o&&"1"!==o||(t.ssl=!0),t}}},function(module,exports,__webpack_require__){"use strict";var EventEmitter=__webpack_require__(28).EventEmitter,util=__webpack_require__(2);const checkConstructor=__webpack_require__(41);var Result=__webpack_require__(71),utils=__webpack_require__(31),Query=function(config,values,callback){if(checkConstructor("Query","PG-QUERY-NEW",()=>eval("new.target")),!(this instanceof Query))return new Query(config,values,callback);config=utils.normalizeQueryConfig(config,values,callback),this.text=config.text,this.values=config.values,this.rows=config.rows,this.types=config.types,this.name=config.name,this.binary=config.binary,this.portal=config.portal||"",this.callback=config.callback,this._rowMode=config.rowMode,process.domain&&config.callback&&(this.callback=process.domain.bind(config.callback)),this._result=new Result(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null,EventEmitter.call(this)};util.inherits(Query,EventEmitter),Query.prototype.requiresPreparation=function(){return!!this.name||(!!this.rows||!!this.text&&(!!this.values&&this.values.length>0))},Query.prototype._checkForMultirow=function(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Result(this._rowMode,this.types),this._results.push(this._result))},Query.prototype.handleRowDescription=function(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length},Query.prototype.handleDataRow=function(e){var t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){return void(this._canceledDueToError=e)}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}},Query.prototype.handleCommandComplete=function(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.isPreparedStatement&&t.sync()},Query.prototype.handleEmptyQuery=function(e){this.isPreparedStatement&&e.sync()},Query.prototype.handleReadyForQuery=function(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);this.callback&&this.callback(null,this._results),this.emit("end",this._results)},Query.prototype.handleError=function(e,t){if(this.isPreparedStatement&&t.sync(),this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)},Query.prototype.submit=function(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return new Error("A query must have either text or a name. Supplying neither is unsupported.");const t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)},Query.prototype.hasBeenParsed=function(e){return this.name&&e.parsedStatements[this.name]},Query.prototype.handlePortalSuspended=function(e){this._getRows(e,this.rows)},Query.prototype._getRows=function(e,t){e.execute({portal:this.portal,rows:t},!0),e.flush()},Query.prototype.prepare=function(e){if(this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(utils.prepareValue)}catch(t){return void this.handleError(t,e)}e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),e.describe({type:"P",name:this.portal||""},!0),this._getRows(e,this.rows)},Query.prototype.handleCopyInResponse=function(e){e.sendCopyFail("No source stream defined")},Query.prototype.handleCopyData=function(e,t){},module.exports=Query},function(e,t,r){"use strict";var n=r(30),s=function(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},i=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;s.prototype.addCommandComplete=function(e){var t;(t=e.text?i.exec(e.text):i.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))},s.prototype._parseRowAsArray=function(e){for(var t=new Array(e.length),r=0,n=e.length;r<n;r++){var s=e[r];t[r]=null!==s?this._parsers[r](s):null}return t},s.prototype.parseRow=function(e){for(var t={},r=0,n=e.length;r<n;r++){var s=e[r],i=this.fields[r].name;t[i]=null!==s?this._parsers[r](s):null}return t},s.prototype.addRow=function(e){this.rows.push(e)},s.prototype.addFields=function(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));for(var t=0;t<e.length;t++){var r=e[t];this._types?this._parsers[t]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[t]=n.getTypeParser(r.dataTypeID,r.format||"text")}},e.exports=s},function(e,t,r){var n=r(33),s=e.exports=function(e){"number"==typeof e&&(e={headerSize:e}),e=e||{},this.offset=0,this.lastChunk=!1,this.chunk=null,this.chunkLength=0,this.headerSize=e.headerSize||0,this.lengthPadding=e.lengthPadding||0,this.header=null,n(this.headerSize<2,"pre-length header of more than 1 byte length not currently supported")};s.prototype.addChunk=function(e){if(!this.chunk||this.offset===this.chunkLength)return this.chunk=e,this.chunkLength=e.length,void(this.offset=0);var t=e.length,r=this.chunkLength+t;if(r>this.chunk.length){for(var n=2*this.chunk.length;r>=n;)n*=2;var s=Buffer.alloc(n);this.chunk.copy(s),this.chunk=s}e.copy(this.chunk,this.chunkLength),this.chunkLength=r},s.prototype.read=function(){if(this.chunkLength<this.headerSize+4+this.offset)return!1;this.headerSize&&(this.header=this.chunk[this.offset]);var e=this.chunk.readUInt32BE(this.offset+this.headerSize)+this.lengthPadding;if(e>this.chunkLength-(this.offset+4+this.headerSize))return!1;this.offset+=this.headerSize+4;var t=this.chunk.slice(this.offset,this.offset+e);return this.offset+=e,t}},function(e,t,r){"use strict";var n=r(43),s=r(28).EventEmitter,i=r(2),o=r(44),a=r(74),u=r(32);console.log("using faster connection");var c=function(e){s.call(this),e=e||{},this.stream=e.stream||new n.Socket,this.stream.setNoDelay(!0),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.lastOffset=0,this.buffer=null,this.offset=null,this.encoding=e.encoding||"utf8",this.parsedStatements={},this.writer=new o,this.ssl=e.ssl||!1,this._ending=!1,this._mode=0,this._emitMessage=!1;var t=this;this.on("newListener",(function(e){"message"===e&&(t._emitMessage=!0)}))};i.inherits(c,s),c.prototype.connect=function(e,t){var s=this;"closed"===this.stream.readyState?this.stream.connect(e,t):"open"===this.stream.readyState&&this.emit("connect"),this.stream.on("connect",(function(){s._keepAlive&&s.stream.setKeepAlive(!0,s._keepAliveInitialDelayMillis),s.emit("connect")}));const i=function(e){(!s._ending||"ECONNRESET"!==e.code&&"EPIPE"!==e.code)&&s.emit("error",e)};if(this.stream.on("error",i),this.stream.on("close",(function(){s.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(e){switch(e.toString("utf8")){case"N":return s.emit("error",new Error("The server does not support SSL connections"));case"S":break;default:return s.emit("error",new Error("There was an error establishing an SSL connection"))}var o=r(45);const a={socket:s.stream,checkServerIdentity:s.ssl.checkServerIdentity||o.checkServerIdentity,rejectUnauthorized:s.ssl.rejectUnauthorized,ca:s.ssl.ca,pfx:s.ssl.pfx,key:s.ssl.key,passphrase:s.ssl.passphrase,cert:s.ssl.cert,secureOptions:s.ssl.secureOptions,NPNProtocols:s.ssl.NPNProtocols};"boolean"!=typeof s.ssl.rejectUnauthorized&&u("Implicit disabling of certificate verification is deprecated and will be removed in pg 8. Specify `rejectUnauthorized: true` to require a valid CA or `rejectUnauthorized: false` to explicitly opt out of MITM protection.","PG-SSL-VERIFY"),0===n.isIP(t)&&(a.servername=t),s.stream=o.connect(a),s.attachListeners(s.stream),s.stream.on("error",i),s.emit("sslconnect")}))},c.prototype.attachListeners=function(e){var t=this;const r=0===this._mode?"text":"binary",n=new a.PgPacketStream({mode:r});this.stream.pipe(n),n.on("data",e=>{var r="error"===e.name?"errorMessage":e.name;t._emitMessage&&t.emit("message",e),t.emit(r,e)}),e.on("end",(function(){t.emit("end")}))},c.prototype.requestSsl=function(){var e=this.writer.addInt16(1234).addInt16(5679).flush(),t=e.length+4,r=(new o).addInt32(t).add(e).join();this.stream.write(r)},c.prototype.startup=function(e){var t=this.writer.addInt16(3).addInt16(0);Object.keys(e).forEach((function(r){var n=e[r];t.addCString(r).addCString(n)})),t.addCString("client_encoding").addCString("'utf-8'");var r=t.addCString("").flush(),n=r.length+4,s=(new o).addInt32(n).add(r).join();this.stream.write(s)},c.prototype.cancel=function(e,t){var r=this.writer.addInt16(1234).addInt16(5678).addInt32(e).addInt32(t).flush(),n=r.length+4,s=(new o).addInt32(n).add(r).join();this.stream.write(s)},c.prototype.password=function(e){this._send(112,this.writer.addCString(e))},c.prototype.sendSASLInitialResponseMessage=function(e,t){this.writer.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),this._send(112)},c.prototype.sendSCRAMClientFinalMessage=function(e){this.writer.addString(e),this._send(112)},c.prototype._send=function(e,t){return!!this.stream.writable&&this.stream.write(this.writer.flush(e))},c.prototype.query=function(e){this.stream.write(this.writer.addCString(e).flush(81))},c.prototype.parse=function(e){e.name=e.name||"",e.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e.name,e.name.length),console.error("This can cause conflicts and silent errors executing queries")),e.types=e.types||[];for(var t=e.types.length,r=this.writer.addCString(e.name).addCString(e.text).addInt16(t),n=0;n<t;n++)r.addInt32(e.types[n]);this._send(80),this.flush()},c.prototype.bind=function(e){(e=e||{}).portal=e.portal||"",e.statement=e.statement||"",e.binary=e.binary||!1;for(var t=e.values||[],r=t.length,n=!1,s=0;s<r;s++)n|=t[s]instanceof Buffer;var i=this.writer.addCString(e.portal).addCString(e.statement);if(n)for(i.addInt16(r),s=0;s<r;s++)i.addInt16(t[s]instanceof Buffer);else i.addInt16(0);i.addInt16(r);for(var o=0;o<r;o++){var a=t[o];null==a?i.addInt32(-1):a instanceof Buffer?(i.addInt32(a.length),i.add(a)):(i.addInt32(Buffer.byteLength(a)),i.addString(a))}e.binary?(i.addInt16(1),i.addInt16(1)):i.addInt16(0),this._send(66),this.flush()},c.prototype.execute=function(e){(e=e||{}).portal=e.portal||"",e.rows=e.rows||"",this.writer.addCString(e.portal).addInt32(e.rows),this._send(69),this.flush()};var h=Buffer.alloc(0);const l=Buffer.from([72,0,0,0,4]);c.prototype.flush=function(){this.stream.writable&&this.stream.write(l)};const p=Buffer.from([83,0,0,0,4]);c.prototype.sync=function(){this._ending=!0,this.writer.clear(),this.stream.writable&&(this.stream.write(p),this.stream.write(l))};const f=Buffer.from([88,0,0,0,4]);c.prototype.end=function(){return this.writer.clear(),this._ending=!0,this.stream.write(f,()=>{this.stream.end()})},c.prototype.close=function(e){this.writer.addCString(e.type+(e.name||"")),this._send(67)},c.prototype.describe=function(e){this.writer.addCString(e.type+(e.name||"")),this._send(68),this.flush()},c.prototype.sendCopyFromChunk=function(e){this.stream.write(this.writer.add(e).flush(100))},c.prototype.endCopyFrom=function(){this.stream.write(this.writer.add(h).flush(99))},c.prototype.sendCopyFail=function(e){this.writer.addCString(e),this._send(102)},e.exports=c},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),i=r(75),o=r(76),a=n(r(33)),u=Buffer.allocUnsafe(0);class c extends s.Transform{constructor(e){var t,r;if(super(Object.assign(Object.assign({},e),{readableObjectMode:!0})),this.remainingBuffer=u,this.reader=new o.BufferReader,"binary"===(null===(t=e)||void 0===t?void 0:t.mode))throw new Error("Binary mode not supported yet");this.mode=(null===(r=e)||void 0===r?void 0:r.mode)||"text"}_transform(e,t,r){let n=e;this.remainingBuffer.byteLength&&(n=Buffer.allocUnsafe(this.remainingBuffer.byteLength+e.byteLength),this.remainingBuffer.copy(n),e.copy(n,this.remainingBuffer.byteLength));let s=0;for(;s+5<=n.byteLength;){const e=n[s],t=n.readUInt32BE(s+1),r=1+t;if(!(r+s<=n.byteLength))break;{const i=this.handlePacket(s+5,e,t,n);this.push(i),s+=r}}s===n.byteLength?this.remainingBuffer=u:this.remainingBuffer=n.slice(s),r(null)}handlePacket(e,t,r,n){switch(t){case 50:return i.bindComplete;case 49:return i.parseComplete;case 51:return i.closeComplete;case 110:return i.noData;case 115:return i.portalSuspended;case 99:return i.copyDone;case 87:return i.replicationStart;case 73:return i.emptyQuery;case 68:return this.parseDataRowMessage(e,r,n);case 67:return this.parseCommandCompleteMessage(e,r,n);case 90:return this.parseReadyForQueryMessage(e,r,n);case 65:return this.parseNotificationMessage(e,r,n);case 82:return this.parseAuthenticationResponse(e,r,n);case 83:return this.parseParameterStatusMessage(e,r,n);case 75:return this.parseBackendKeyData(e,r,n);case 69:return this.parseErrorMessage(e,r,n,"error");case 78:return this.parseErrorMessage(e,r,n,"notice");case 84:return this.parseRowDescriptionMessage(e,r,n);case 71:return this.parseCopyInMessage(e,r,n);case 72:return this.parseCopyOutMessage(e,r,n);case 100:return this.parseCopyData(e,r,n);default:a.default.fail(`unknown message code: ${t.toString(16)}`)}}_flush(e){this._transform(Buffer.alloc(0),"utf-8",e)}parseReadyForQueryMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.string(1);return new i.ReadyForQueryMessage(t,n)}parseCommandCompleteMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring();return new i.CommandCompleteMessage(t,n)}parseCopyData(e,t,r){const n=r.slice(e,e+(t-4));return new i.CopyDataMessage(t,n)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,t,r,n){this.reader.setBuffer(e,r);const s=0!==this.reader.byte(),o=this.reader.int16(),a=new i.CopyResponse(t,n,s,o);for(let e=0;e<o;e++)a.columnTypes[e]=this.reader.int16();return a}parseNotificationMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new i.NotificationResponseMessage(t,n,s,o)}parseRowDescriptionMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),s=new i.RowDescriptionMessage(t,n);for(let e=0;e<n;e++)s.fields[e]=this.parseField();return s}parseField(){const e=this.reader.cstring(),t=this.reader.int32(),r=this.reader.int16(),n=this.reader.int32(),s=this.reader.int16(),o=this.reader.int32(),a=0===this.reader.int16()?"text":"binary";return new i.Field(e,t,r,n,s,o,a)}parseDataRowMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),s=new Array(n);for(let e=0;e<n;e++){const t=this.reader.int32();-1===t?s[e]=null:"text"===this.mode&&(s[e]=this.reader.string(t))}return new i.DataRowMessage(t,s)}parseParameterStatusMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring(),s=this.reader.cstring();return new i.ParameterStatusMessage(t,n,s)}parseBackendKeyData(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),s=this.reader.int32();return new i.BackendKeyDataMessage(t,n,s)}parseAuthenticationResponse(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),s={name:"authenticationOk",length:t};switch(n){case 0:break;case 3:8===s.length&&(s.name="authenticationCleartextPassword");break;case 5:if(12===s.length){s.name="authenticationMD5Password";const e=this.reader.bytes(4);return new i.AuthenticationMD5Password(t,e)}break;case 10:let e;s.name="authenticationSASL",s.mechanisms=[];do{e=this.reader.cstring(),e&&s.mechanisms.push(e)}while(e);break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(t-4);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(t-4);break;default:throw new Error("Unknown authenticationOk message type "+n)}return s}parseErrorMessage(e,t,r,n){this.reader.setBuffer(e,r);for(var s={},o=this.reader.string(1);"\0"!==o;)s[o]=this.reader.cstring(),o=this.reader.string(1);var a=new i.DatabaseError(s.M,t,n);return a.severity=s.S,a.code=s.C,a.detail=s.D,a.hint=s.H,a.position=s.P,a.internalPosition=s.p,a.internalQuery=s.q,a.where=s.W,a.schema=s.s,a.table=s.t,a.column=s.c,a.dataType=s.d,a.constraint=s.n,a.file=s.F,a.line=s.L,a.routine=s.R,a}}t.PgPacketStream=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};class n extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}}t.DatabaseError=n;t.CopyDataMessage=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};t.CopyResponse=class{constructor(e,t,r,n){this.length=e,this.name=t,this.binary=r,this.columnTypes=new Array(n)}};t.Field=class{constructor(e,t,r,n,s,i,o){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=n,this.dataTypeSize=s,this.dataTypeModifier=i,this.format=o}};t.RowDescriptionMessage=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};t.ParameterStatusMessage=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};t.AuthenticationMD5Password=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};t.BackendKeyDataMessage=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};t.NotificationResponseMessage=class{constructor(e,t,r,n){this.length=e,this.processId=t,this.channel=r,this.payload=n,this.name="notification"}};t.ReadyForQueryMessage=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};t.CommandCompleteMessage=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};t.DataRowMessage=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=Buffer.allocUnsafe(0);t.BufferReader=class{constructor(e=0){this.offset=e,this.buffer=n,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){const t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){var e=this.offset,t=this.buffer.indexOf(0,e);return this.offset=t+1,this.buffer.toString(this.encoding,e,t)}bytes(e){const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}}},function(e,t,r){"use strict";const n=r(28).EventEmitter,s=function(){},i=(e,t)=>{const r=e.findIndex(t);return-1===r?void 0:e.splice(r,1)[0]};class o{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}}class a{constructor(e){this.callback=e}}function u(e,t){if(t)return{callback:t,result:void 0};let r,n;return{callback:function(e,t){e?r(e):n(t)},result:new e((function(e,t){n=e,r=t}))}}e.exports=class extends n{constructor(e,t){super(),this.options=Object.assign({},e),this.options.max=this.options.max||this.options.poolSize||10,this.log=this.options.log||function(){},this.Client=this.options.Client||t||r(34).Client,this.Promise=this.options.Promise||global.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending)return this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),void(this._clients.length||(this.ended=!0,this._endCallback()));if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const t=this._idle.pop();clearTimeout(t.timeoutId);const r=t.client,n=t.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e){const t=i(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){const t=new Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}const t=u(this.Promise,e),r=t.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new a(t.callback)),r;const e=(e,r,n)=>{clearTimeout(s),t.callback(e,r,n)},n=new a(e),s=setTimeout(()=>{i(this._pendingQueue,t=>t.callback===e),n.timedOut=!0,t.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(n),r}return this.newClient(new a(t.callback)),r}newClient(e){const t=new this.Client(this.options);this._clients.push(t);const r=function(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}(this,t);let n;this.log("checking client timeout");let i=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(o=>{if(n&&clearTimeout(n),t.on("error",r),!o)return this.log("new client connected"),this._acquireClient(t,e,r,!0);this.log("client failed to connect",o),this._clients=this._clients.filter(e=>e!==t),i&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(o,void 0,s)})}_acquireClient(e,t,r,n){n&&this.emit("connect",e),this.emit("acquire",e);let i=!1;e.release=t=>{i&&function(){throw new Error("Release called on client which has already been released to the pool.")}(),i=!0,this._release(e,r,t)},e.removeListener("error",r),t.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,s);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_release(e,t,r){if(e.on("error",t),r||this.ending||!e._queryable||e._ending)return this._remove(e),void this._pulseQueue();let n;this.options.idleTimeoutMillis&&(n=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis)),this._idle.push(new o(e,t,n)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){const t=u(this.Promise,e);return setImmediate((function(){return t.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))})),t.result}"function"==typeof t&&(r=t,t=void 0);const n=u(this.Promise,r);return r=n.callback,this.connect((n,s)=>{if(n)return r(n);let i=!1;const o=e=>{i||(i=!0,s.release(e),r(e))};s.once("error",o),this.log("dispatching query"),s.query(e,t,(e,t)=>{if(this.log("query dispatched"),s.removeListener("error",o),!i)return i=!0,s.release(e),e?r(e):r(void 0,t)})}),n.result}end(e){if(this.log("ending"),this.ending){const t=new Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;const t=u(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}}},function(e,t,r){"use strict";var n=r(!function(){var e=new Error("Cannot find module 'pg-native'");throw e.code="MODULE_NOT_FOUND",e}()),s=r(39),i=r(79),o=r(80),a=r(33),u=r(28).EventEmitter,c=r(2),h=r(40),l="Version >= "+o.minNativeVersion+" of pg-native required.";a(i.gte(n.version,o.minNativeVersion),l);var p=r(81),f=e.exports=function(e){u.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new s(e.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new h(e);this.user=t.user,this.password=t.password,this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};f.Query=p,c.inherits(f,u),f.prototype._errorAllQueries=function(e){const t=t=>{process.nextTick(()=>{t.native=this.native,t.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},f.prototype._connect=function(e){var t=this;this._connecting?process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString((function(r,n){if(r)return e(r);t.native.connect(n,(function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",(function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)})),t.native.on("notification",(function(e){t.emit("notification",{channel:e.relname,payload:e.extra})})),t.emit("connect"),t._pulseQueryQueue(!0),e()}))})))},f.prototype.connect=function(e){if(!e)return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})});this._connect(e)},f.prototype.query=function(e,t,r){var n,s,i,o,a;if(null==e)throw new TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)i=e.query_timeout||this.connectionParameters.query_timeout,s=n=e,"function"==typeof t&&(e.callback=t);else if(i=this.connectionParameters.query_timeout,!(n=new p(e,t,r)).callback){let e,t;s=new this._Promise((r,n)=>{e=r,t=n}),n.callback=(r,n)=>r?t(r):e(n)}return i&&(a=n.callback,o=setTimeout(()=>{var e=new Error("Query read timeout");process.nextTick(()=>{n.handleError(e,this.connection)}),a(e),n.callback=()=>{};var t=this._queryQueue.indexOf(n);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},i),n.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),s):(this._queryQueue.push(n),this._pulseQueryQueue(),s):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),s)},f.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise((function(t,r){e=e=>e?r(e):t()}))),this.native.end((function(){r._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{r.emit("end"),e&&e()})})),t},f.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},f.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(t){this._activeQuery=t,t.submit(this);var r=this;t.once("_done",(function(){r._pulseQueryQueue()}))}else e||this.emit("drain")}},f.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel((function(){})):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},f.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},f.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}},function(e,t,r){var n,s,i;e.exports===t&&(t=e.exports=Y),i="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],u=t.src=[],c=0,h=c++;u[h]="0|[1-9]\\d*";var l=c++;u[l]="[0-9]+";var p=c++;u[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;u[f]="("+u[h]+")\\.("+u[h]+")\\.("+u[h]+")";var d=c++;u[d]="("+u[l]+")\\.("+u[l]+")\\.("+u[l]+")";var m=c++;u[m]="(?:"+u[h]+"|"+u[p]+")";var y=c++;u[y]="(?:"+u[l]+"|"+u[p]+")";var g=c++;u[g]="(?:-("+u[m]+"(?:\\."+u[m]+")*))";var v=c++;u[v]="(?:-?("+u[y]+"(?:\\."+u[y]+")*))";var _=c++;u[_]="[0-9A-Za-z-]+";var w=c++;u[w]="(?:\\+("+u[_]+"(?:\\."+u[_]+")*))";var b=c++,S="v?"+u[f]+u[g]+"?"+u[w]+"?";u[b]="^"+S+"$";var E="[v=\\s]*"+u[d]+u[v]+"?"+u[w]+"?",C=c++;u[C]="^"+E+"$";var k=c++;u[k]="((?:<|>)?=?)";var I=c++;u[I]=u[l]+"|x|X|\\*";var P=c++;u[P]=u[h]+"|x|X|\\*";var x=c++;u[x]="[v=\\s]*("+u[P]+")(?:\\.("+u[P]+")(?:\\.("+u[P]+")(?:"+u[g]+")?"+u[w]+"?)?)?";var T=c++;u[T]="[v=\\s]*("+u[I]+")(?:\\.("+u[I]+")(?:\\.("+u[I]+")(?:"+u[v]+")?"+u[w]+"?)?)?";var M=c++;u[M]="^"+u[k]+"\\s*"+u[x]+"$";var R=c++;u[R]="^"+u[k]+"\\s*"+u[T]+"$";var A=c++;u[A]="(?:~>?)";var Q=c++;u[Q]="(\\s*)"+u[A]+"\\s+",a[Q]=new RegExp(u[Q],"g");var D=c++;u[D]="^"+u[A]+u[x]+"$";var q=c++;u[q]="^"+u[A]+u[T]+"$";var O=c++;u[O]="(?:\\^)";var L=c++;u[L]="(\\s*)"+u[O]+"\\s+",a[L]=new RegExp(u[L],"g");var N=c++;u[N]="^"+u[O]+u[x]+"$";var B=c++;u[B]="^"+u[O]+u[T]+"$";var j=c++;u[j]="^"+u[k]+"\\s*("+E+")$|^$";var F=c++;u[F]="^"+u[k]+"\\s*("+S+")$|^$";var U=c++;u[U]="(\\s*)"+u[k]+"\\s*("+E+"|"+u[x]+")",a[U]=new RegExp(u[U],"g");var G=c++;u[G]="^\\s*("+u[x]+")\\s+-\\s+("+u[x]+")\\s*$";var V=c++;u[V]="^\\s*("+u[T]+")\\s+-\\s+("+u[T]+")\\s*$";var z=c++;u[z]="(<|>)?=?\\s*\\*";for(var $=0;$<34;$++)i($,u[$]),a[$]||(a[$]=new RegExp(u[$]));function H(e,t){if(e.length>256)return null;if(!(t?a[C]:a[b]).test(e))return null;try{return new Y(e,t)}catch(e){return null}}function Y(e,t){if(e instanceof Y){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof Y))return new Y(e,t);i("SemVer",e,t),this.loose=t;var r=e.trim().match(t?a[C]:a[b]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){return/^[0-9]+$/.test(e)?+e:e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var r=H(e,t);return r?r.version:null},t.clean=function(e,t){var r=H(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=Y,Y.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Y.prototype.inspect=function(){return'<SemVer "'+this+'">'},Y.prototype.toString=function(){return this.version},Y.prototype.compare=function(e){return i("SemVer.compare",this.version,this.loose,e),e instanceof Y||(e=new Y(e,this.loose)),this.compareMain(e)||this.comparePre(e)},Y.prototype.compareMain=function(e){return e instanceof Y||(e=new Y(e,this.loose)),W(this.major,e.major)||W(this.minor,e.minor)||W(this.patch,e.patch)},Y.prototype.comparePre=function(e){if(e instanceof Y||(e=new Y(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return W(r,n)}while(++t)},Y.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new Y(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(te(e,t))return null;var r=H(e),n=H(t);if(r.prerelease.length||n.prerelease.length){for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return"pre"+s;return"prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return s},t.compareIdentifiers=W;var K=/^[0-9]+$/;function W(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function J(e,t,r){return new Y(e,r).compare(t)}function Z(e,t,r){return J(t,e,r)}function X(e,t,r){return J(e,t,r)>0}function ee(e,t,r){return J(e,t,r)<0}function te(e,t,r){return 0===J(e,t,r)}function re(e,t,r){return 0!==J(e,t,r)}function ne(e,t,r){return J(e,t,r)>=0}function se(e,t,r){return J(e,t,r)<=0}function ie(e,t,r,n){var s;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),s=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),s=e!==r;break;case"":case"=":case"==":s=te(e,r,n);break;case"!=":s=re(e,r,n);break;case">":s=X(e,r,n);break;case">=":s=ne(e,r,n);break;case"<":s=ee(e,r,n);break;case"<=":s=se(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return s}function oe(e,t){if(e instanceof oe){if(e.loose===t)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);i("comparator",e,t),this.loose=t,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}t.rcompareIdentifiers=function(e,t){return W(t,e)},t.major=function(e,t){return new Y(e,t).major},t.minor=function(e,t){return new Y(e,t).minor},t.patch=function(e,t){return new Y(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=Z,t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=ee,t.eq=te,t.neq=re,t.gte=ne,t.lte=se,t.cmp=ie,t.Comparator=oe;var ae={};function ue(e,t){if(e instanceof ue&&e.loose===t)return e;if(!(this instanceof ue))return new ue(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ce(e){return!e||"x"===e.toLowerCase()||"*"===e}function he(e,t,r,n,s,i,o,a,u,c,h,l,p){return((t=ce(r)?"":ce(n)?">="+r+".0.0":ce(s)?">="+r+"."+n+".0":">="+t)+" "+(a=ce(u)?"":ce(c)?"<"+(+u+1)+".0.0":ce(h)?"<"+u+"."+(+c+1)+".0":l?"<="+u+"."+c+"."+h+"-"+l:"<="+a)).trim()}function le(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(r=0;r<e.length;r++){if(i(e[r].semver),e[r].semver===ae)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}function pe(e,t,r){try{t=new ue(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var s,i,o,a,u;switch(e=new Y(e,n),t=new ue(t,n),r){case">":s=X,i=se,o=ee,a=">",u=">=";break;case"<":s=ee,i=ne,o=X,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pe(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var h=t.set[c],l=null,p=null;if(h.forEach((function(e){l=l||e,p=p||e,s(e.semver,l.semver,n)?l=e:o(e.semver,p.semver,n)&&(p=e)})),l.operator===a||l.operator===u)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===u&&o(e,p.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.loose?a[j]:a[F],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new Y(r[2],this.loose):this.semver=ae},oe.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return i("Comparator.test",e,this.loose),this.semver===ae||("string"==typeof e&&(e=new Y(e,this.loose)),ie(e,this.operator,this.semver,this.loose))},t.Range=ue,ue.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},ue.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ue.prototype.toString=function(){return this.range},ue.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),i("range",e,t);var r=t?a[V]:a[G];e=e.replace(r,he),i("hyphen replace",e),e=e.replace(a[U],"$1$2$3"),i("comparator trim",e,a[U]),e=(e=(e=e.replace(a[Q],"$1~")).replace(a[L],"$1^")).split(/\s+/).join(" ");var n=t?a[j]:a[F],s=e.split(" ").map((function(e){return function(e,t){return i("comp",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){i("caret",e,t);var r=t?a[B]:a[N];return e.replace(r,(function(t,r,n,s,o){var a;return i("caret",e,t,r,n,s,o),ce(r)?a="":ce(n)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ce(s)?a="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":o?(i("replaceCaret pr",o),"-"!==o.charAt(0)&&(o="-"+o),a="0"===r?"0"===n?">="+r+"."+n+"."+s+o+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+o+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+o+" <"+(+r+1)+".0.0"):(i("no pr"),a="0"===r?"0"===n?">="+r+"."+n+"."+s+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+" <"+(+r+1)+".0.0"),i("caret return",a),a}))}(e,t)})).join(" ")}(e,t),i("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t?a[q]:a[D];return e.replace(r,(function(t,r,n,s,o){var a;return i("tilde",e,t,r,n,s,o),ce(r)?a="":ce(n)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ce(s)?a=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":o?(i("replaceTilde pr",o),"-"!==o.charAt(0)&&(o="-"+o),a=">="+r+"."+n+"."+s+o+" <"+r+"."+(+n+1)+".0"):a=">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0",i("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),i("tildes",e),e=function(e,t){return i("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t?a[R]:a[M];return e.replace(r,(function(t,r,n,s,o,a){i("xRange",e,t,r,n,s,o,a);var u=ce(n),c=u||ce(s),h=c||ce(o);return"="===r&&h&&(r=""),u?t=">"===r||"<"===r?"<0.0.0":"*":r&&h?(c&&(s=0),h&&(o=0),">"===r?(r=">=",c?(n=+n+1,s=0,o=0):h&&(s=+s+1,o=0)):"<="===r&&(r="<",c?n=+n+1:s=+s+1),t=r+n+"."+s+"."+o):c?t=">="+n+".0.0 <"+(+n+1)+".0.0":h&&(t=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0"),i("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),i("xrange",e),e=function(e,t){return i("replaceStars",e,t),e.trim().replace(a[z],"")}(e,t),i("stars",e),e}(e,t)})).join(" ").split(/\s+/);return this.loose&&(s=s.filter((function(e){return!!e.match(n)}))),s=s.map((function(e){return new oe(e,t)}))},t.toComparators=function(e,t){return new ue(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ue.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Y(e,this.loose));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e))return!0;return!1},t.satisfies=pe,t.maxSatisfying=function(e,t,r){return e.filter((function(e){return pe(e,t,r)})).sort((function(e,t){return Z(e,t,r)}))[0]||null},t.validRange=function(e,t){try{return new ue(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,void 0===(s="function"==typeof(n=t)?n.call(t,r,t,e):n)||(e.exports=s)},function(e){e.exports=JSON.parse('{"name":"pg","version":"7.18.1","description":"PostgreSQL client - pure javascript & libpq with the same API","keywords":["database","libpq","pg","postgre","postgres","postgresql","rdbms"],"homepage":"https://github.com/brianc/node-postgres","repository":{"type":"git","url":"git://github.com/brianc/node-postgres.git"},"author":"Brian Carlson <brian.m.carlson@gmail.com>","main":"./lib","dependencies":{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"0.1.3","pg-packet-stream":"^1.1.0","pg-pool":"^2.0.10","pg-types":"^2.1.0","pgpass":"1.x","semver":"4.3.2"},"devDependencies":{"async":"0.9.0","bluebird":"3.5.2","co":"4.6.0","eslint":"^6.0.1","eslint-config-standard":"^13.0.1","eslint-plugin-import":"^2.18.1","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.0","pg-copy-streams":"0.3.0"},"minNativeVersion":"2.0.0","scripts":{"test":"make test-all","lint":"make lint"},"files":["lib","SPONSORS.md"],"license":"MIT","engines":{"node":">= 4.5.0"},"gitHead":"b3f0728a1102772a5c6320c78c2533354d78a39b"}')},function(e,t,r){"use strict";var n=r(28).EventEmitter,s=r(2),i=r(31),o=e.exports=function(e,t,r){n.call(this),e=i.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",function(e){"row"===e&&(this._emitRowEvents=!0)}.bind(this))};s.inherits(o,n);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t){e[a[r]||r]=t[r]}this.callback?this.callback(e):this.emit("error",e),this.state="error"},o.prototype.then=function(e,t){return this._getPromise().then(e,t)},o.prototype.catch=function(e){return this._getPromise().catch(e)},o.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)},o.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(r,n,s){if(e.native.arrayMode=!1,setImmediate((function(){t.emit("_done")})),r)return t.handleError(r);t._emitRowEvents&&(s.length>1?n.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,s[r])})}):n.forEach((function(e){t.emit("row",e,s)}))),t.state="end",t.emit("end",s),t.callback&&t.callback(null,s)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(i.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){const e=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(e)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,(function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))}))}if(this.values){if(!Array.isArray(this.values)){const e=new Error("Query values must be an array");return r(e)}var s=this.values.map(i.prepareValue);e.native.query(this.text,s,r)}else e.native.query(this.text,r)}}]));